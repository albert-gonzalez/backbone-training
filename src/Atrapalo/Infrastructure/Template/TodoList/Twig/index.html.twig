{% extends 'Common/Twig/base.html.twig' %}
{% block content %}
<div class="panel panel-default">
    <div class="panel-heading"><h4>Add Todo</h4></div>
    <div class="panel-body">
        {% include 'Common/Twig/flash_message.html.twig' with
            {'code': code | default(null), 'messageOk': 'Todo created'}%}
        <form class="form-inline text-center" action="/todolist" method="POST">
            <div class="form-group">
                <input class="form-control input-lg" type="text" name="title" placeholder="Title"/>
            </div>
            <div class="form-group">
                <input class="form-control input-lg" type="text" name="description" placeholder="Description"/>
            </div>
            <button class="btn btn-primary btn-lg" type="submit">Create</button>
        </form>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading"><h4>Todo List</h4></div>
    <div class="panel-body">
        <ul>
            {% for todo in todoList %}
            <li class="lead" title="{{ todo.description }} | Created at {{ todo.creationDate | date('Y-m-d H:i:s')}}">
                    {% if todo.done %}
                    <del>{{ todo.title|e }}</del>
                    {% else %}
                        {{ todo.title|e }}
                    {% endif %}
                    <a href="/todolist/{{ todo.id }}">Edit</a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
{% block javascript %}
    {{ parent() }}
    <script data-main="app/src/todoList/js/page/index.js" src="/app/vendor/requirejs/require.js"></script>
{% endblock %}